/*
 * SciTeX Theme System - Light and Dark Mode
 * Uses SciTeX Bluish Dark Gray brand colors with proper contrast
 */

:root {
    /* SciTeX Brand Colors - Bluish Dark Gray Theme */
    --scitex-color-01: #1a2332;  /* Dark Bluish Gray (Primary) */
    --scitex-color-01-light: #2d3748;
    --scitex-color-01-dark: #0f1419;
    --scitex-color-02: #34495e;  /* Medium Bluish Gray */
    --scitex-color-03: #506b7a;  /* Light Bluish Gray */
    --scitex-color-04: #6c8ba0;  /* Lighter Bluish Gray */
    --scitex-color-05: #8fa4b0;  /* Very Light Bluish Gray */
    --scitex-color-06: #b5c7d1;  /* Pale Bluish Gray */
    --scitex-color-07: #d4e1e8;  /* Very Pale Bluish Gray */

    /* Status Colors (SciTeX-harmonized with gray tones) */
    --scitex-success: #4a9b7e;  /* Grayish Green */
    --scitex-warning: #b8956a;  /* Grayish Orange */
    --scitex-error: #a67373;    /* Grayish Red */
    --scitex-info: #6b8fb3;     /* Grayish Blue */

    /* Light Mode (Default) - SciTeX Colors */
    --color-canvas-default: #ffffff;
    --color-canvas-subtle: var(--scitex-color-07);  /* #d4e1e8 */
    --color-canvas-inset: #f6f8fa;
    --color-border-default: var(--scitex-color-06);  /* #b5c7d1 */
    --color-border-muted: var(--scitex-color-05);    /* #8fa4b0 */

    --color-fg-default: var(--scitex-color-01);      /* #1a2332 */
    --color-fg-muted: var(--scitex-color-03);        /* #506b7a */
    --color-fg-subtle: var(--scitex-color-04);       /* #6c8ba0 */
    --color-fg-on-emphasis: #ffffff;

    --color-accent-fg: var(--scitex-color-02);       /* #34495e */
    --color-accent-emphasis: var(--scitex-color-01);  /* #1a2332 */
    --color-accent-subtle: var(--scitex-color-07);    /* #d4e1e8 */

    --color-success-fg: var(--scitex-success);
    --color-success-emphasis: #3d8169;
    --color-success-subtle: #e8f5f0;

    --color-danger-fg: var(--scitex-error);
    --color-danger-emphasis: #8f5c5c;
    --color-danger-subtle: #f5e8e8;

    --color-btn-text: var(--scitex-color-01);
    --color-btn-bg: var(--scitex-color-07);
    --color-btn-border: var(--scitex-color-05);
    --color-btn-hover-bg: var(--scitex-color-06);
    --color-btn-hover-border: var(--scitex-color-04);

    --color-btn-primary-text: #ffffff;
    --color-btn-primary-bg: var(--scitex-color-02);      /* #34495e */
    --color-btn-primary-border: var(--scitex-color-03);
    --color-btn-primary-hover-bg: var(--scitex-color-01);  /* #1a2332 */
    --color-btn-primary-hover-border: var(--scitex-color-02);

    /* Header specific - Using SciTeX brand colors */
    --header-bg: var(--scitex-color-01);           /* #1a2332 */
    --header-border: var(--scitex-color-02);       /* #34495e */
    --header-text: #ffffff;
    --header-text-muted: var(--scitex-color-05);   /* #8fa4b0 */
    --header-search-bg: var(--scitex-color-01-dark);  /* #0f1419 */
    --header-search-border: var(--scitex-color-02);

    /* Navigation and tabs */
    --tab-active-border: var(--scitex-color-04);    /* #6c8ba0 - SciTeX accent */
}

/* Dark Mode - SciTeX Dark Theme with Bluish Gray */
[data-theme="dark"] {
    /* Dark backgrounds using SciTeX colors */
    --color-canvas-default: var(--scitex-color-01-dark);  /* #0f1419 */
    --color-canvas-subtle: var(--scitex-color-01);        /* #1a2332 */
    --color-canvas-inset: #0a0e12;
    --color-border-default: var(--scitex-color-02);       /* #34495e */
    --color-border-muted: var(--scitex-color-01-light);   /* #2d3748 */

    /* Light text on dark backgrounds - high contrast */
    --color-fg-default: var(--scitex-color-07);     /* #d4e1e8 */
    --color-fg-muted: var(--scitex-color-05);       /* #8fa4b0 */
    --color-fg-subtle: var(--scitex-color-04);      /* #6c8ba0 */
    --color-fg-on-emphasis: #ffffff;

    /* Accent colors - brighter for dark mode */
    --color-accent-fg: var(--scitex-color-06);       /* #b5c7d1 */
    --color-accent-emphasis: var(--scitex-color-05);  /* #8fa4b0 */
    --color-accent-subtle: var(--scitex-color-02);    /* #34495e */

    /* Status colors - adjusted for dark mode visibility */
    --color-success-fg: #5fb98c;      /* Brighter grayish green */
    --color-success-emphasis: var(--scitex-success);
    --color-success-subtle: #1f3a2e;

    --color-danger-fg: #c99090;       /* Brighter grayish red */
    --color-danger-emphasis: var(--scitex-error);
    --color-danger-subtle: #3a2020;

    /* Buttons in dark mode */
    --color-btn-text: var(--scitex-color-07);     /* #d4e1e8 */
    --color-btn-bg: var(--scitex-color-01-light);  /* #2d3748 */
    --color-btn-border: var(--scitex-color-02);
    --color-btn-hover-bg: var(--scitex-color-02);  /* #34495e */
    --color-btn-hover-border: var(--scitex-color-03);

    --color-btn-primary-text: #ffffff;
    --color-btn-primary-bg: var(--scitex-color-03);      /* #506b7a */
    --color-btn-primary-border: var(--scitex-color-04);
    --color-btn-primary-hover-bg: var(--scitex-color-04);  /* #6c8ba0 */
    --color-btn-primary-hover-border: var(--scitex-color-05);

    /* Header in dark mode */
    --header-bg: var(--scitex-color-01);           /* #1a2332 */
    --header-border: var(--scitex-color-02);       /* #34495e */
    --header-text: var(--scitex-color-07);         /* #d4e1e8 */
    --header-text-muted: var(--scitex-color-05);   /* #8fa4b0 */
    --header-search-bg: var(--scitex-color-01-dark);  /* #0f1419 */
    --header-search-border: var(--scitex-color-02);

    /* Navigation and tabs - brighter in dark mode */
    --tab-active-border: var(--scitex-color-05);    /* #8fa4b0 - lighter for dark mode */
}

/* Apply theme to body */
body {
    background-color: var(--color-canvas-default);
    color: var(--color-fg-default);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Dark mode toggle button */
.theme-toggle {
    background: transparent;
    border: none;
    color: var(--header-text);
    cursor: pointer;
    font-size: 16px;
    padding: 6px;
    border-radius: 6px;
    transition: background 0.2s ease;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.theme-toggle:hover {
    background: var(--color-btn-hover-bg);
}

/* Icon switching */
.theme-toggle .icon-light {
    display: none;
}

.theme-toggle .icon-dark {
    display: inline;
}

[data-theme="dark"] .theme-toggle .icon-light {
    display: inline;
}

[data-theme="dark"] .theme-toggle .icon-dark {
    display: none;
}

/* Common elements dark mode support */
a {
    color: var(--color-accent-fg);
}

a:hover {
    text-decoration: underline;
}

/* Cards */
.card {
    background-color: var(--color-canvas-subtle);
    border-color: var(--color-border-default);
    color: var(--color-fg-default);
}

/* Buttons */
.btn {
    background-color: var(--color-btn-bg);
    border-color: var(--color-btn-border);
    color: var(--color-btn-text);
}

.btn:hover {
    background-color: var(--color-btn-hover-bg);
    border-color: var(--color-btn-hover-border);
}

.btn-primary {
    background-color: var(--color-btn-primary-bg);
    border-color: var(--color-btn-primary-border);
    color: var(--color-btn-primary-text);
}

.btn-primary:hover {
    background-color: var(--color-btn-primary-hover-bg);
    border-color: var(--color-btn-primary-hover-border);
}

/* Forms */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
textarea,
select {
    background-color: var(--color-canvas-default);
    border-color: var(--color-border-default);
    color: var(--color-fg-default);
}

input:focus,
textarea:focus,
select:focus {
    border-color: var(--color-accent-emphasis);
    outline: none;
    box-shadow: 0 0 0 3px rgba(9, 105, 218, 0.1);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
    box-shadow: 0 0 0 3px rgba(68, 147, 248, 0.1);
}

/* Tables */
table {
    color: var(--color-fg-default);
}

th, td {
    border-color: var(--color-border-default);
}

/* Alerts */
.alert {
    border-color: var(--color-border-default);
}

.alert-success {
    background-color: var(--color-success-subtle);
    color: var(--color-success-fg);
    border-color: var(--color-success-emphasis);
}

.alert-danger,
.alert-error {
    background-color: var(--color-danger-subtle);
    color: var(--color-danger-fg);
    border-color: var(--color-danger-emphasis);
}

/* Smooth transition for all theme changes */
*,
*::before,
*::after {
    transition-property: background-color, border-color, color;
    transition-duration: 0.3s;
    transition-timing-function: ease;
}

/* Prevent transition on initial load */
.no-transition * {
    transition: none !important;
}
