{% load static %}
<header class="site-header">
  <div class="container">
    <div class="site-branding">
      <a href="{% url 'cloud_app:index' %}" class="site-logo">
        <img src="{% static 'images/scitex-logo.png' %}" alt="SciTeX" class="logo-img">
      </a>
    </div>
    <nav class="site-navigation" aria-label="Main Navigation">
      <ul>
        <li class="nav-button-item">
          <a href="/projects/" class="btn btn-sm btn-outline-primary nav-btn {% if '/projects/' in request.path or request.path|slice:':2' == '/' and request.path|slice:'2:' and request.path|slice:'2:' != 'projects/' %}active{% endif %}" aria-current="{% if '/projects/' in request.path %}page{% endif %}">
            <img src="{% static 'images/scitex-project-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Projects
          </a>
        </li>
        
        <li class="nav-button-item">
          <a href="/scholar/" class="btn btn-sm btn-outline-primary nav-btn {% if request.path == '/scholar/' %}active{% endif %}" aria-current="{% if request.path == '/scholar/' %}page{% endif %}">
            <img src="{% static 'images/scitex-search-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Scholar
          </a>
        </li>
        
        <li class="nav-button-item">
          <a href="/code/" class="btn btn-sm btn-outline-primary nav-btn {% if request.path == '/code/' %}active{% endif %}" aria-current="{% if request.path == '/code/' %}page{% endif %}">
            <img src="{% static 'images/scitex-code-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Code
          </a>
        </li>
        
        <li class="nav-button-item">
          <a href="/viz/" class="btn btn-sm btn-outline-primary nav-btn {% if request.path == '/viz/' %}active{% endif %}" aria-current="{% if request.path == '/viz/' %}page{% endif %}">
            <img src="{% static 'images/scitex-viz-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Viz
          </a>
        </li>
        
        <li class="nav-button-item">
          <a href="/writer/" class="btn btn-sm btn-outline-primary nav-btn {% if request.path == '/writer/' %}active{% endif %}" aria-current="{% if request.path == '/writer/' %}page{% endif %}">
            <img src="{% static 'images/scitex-doc-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Writer
          </a>
        </li>

        <li class="nav-button-item">
          <a href="{% url 'cloud_app:publications' %}" class="btn btn-sm btn-outline-primary nav-btn {% if request.path == '/publications/' %}active{% endif %}" aria-current="{% if request.path == '/publications/' %}page{% endif %}">
            <img src="{% static 'images/scitex-search-icon.svg' %}" alt="" width="20" height="20" class="nav-icon">
            Publications
          </a>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">For developers</a>
          <div class="dropdown-menu">
            <a href="{% url 'cloud_app:api-docs' %}" class="dropdown-item">API Documentation</a>
            <a href="{% url 'cloud_app:design' %}" class="dropdown-item">Design System</a>
          </div>
        </li>
        
      </ul>
      
    </nav>
    <div class="header-actions">
      <!-- Always show donate and GitHub -->
      <a href="{% url 'cloud_app:donate' %}" class="btn btn-sm btn-success nav-btn"><i class="fas fa-heart"></i> Donate</a>
      <a href="https://github.com/SciTeX-AI" class="btn btn-sm btn-dark nav-btn" target="_blank"><i class="fab fa-github"></i> GitHub</a>
      
      {% if user.is_authenticated %}
      <!-- User is logged in -->
      <div class="dropdown">
        <a href="#" class="dropdown-toggle user-menu" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fas fa-user-circle me-2"></i>{{ user.username }}
        </a>
        <div class="dropdown-menu dropdown-menu-end">
          <a href="/core/projects/" class="dropdown-item">
            <i class="fas fa-folder me-2"></i>Projects
          </a>
          <a href="/collaboration/" class="dropdown-item">
            <i class="fas fa-users me-2"></i>Teams & Collaboration
          </a>
          <a href="/core/documents/" class="dropdown-item">
            <i class="fas fa-file-text me-2"></i>My Documents
          </a>
          <a href="/core/projects/" class="dropdown-item">
            <i class="fas fa-project-diagram me-2"></i>My Projects
          </a>
          <a href="/core/profile/" class="dropdown-item">
            <i class="fas fa-user me-2"></i>Profile
          </a>
          <div class="dropdown-divider"></div>
          <a href="{% url 'cloud_app:logout' %}" class="dropdown-item">
            <i class="fas fa-sign-out-alt me-2"></i>Logout
          </a>
        </div>
      </div>
      {% else %}
      <!-- User is not logged in -->
      <a href="{% url 'cloud_app:login' %}" class="btn btn-sm btn-outline-primary nav-btn">Log In</a>
      <a href="{% url 'cloud_app:signup' %}" class="btn btn-sm btn-secondary nav-btn">Sign Up</a>
      {% endif %}
    </div>
    <button class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>
  </div>
</header>
