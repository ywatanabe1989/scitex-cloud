{% load static %}

<!-- Module Demo Component -->
<div style="max-width: 1200px; margin: {{ margin|default:'3rem auto' }};">
  <h2 style="color: var(--color-fg-default); margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
    <img src="{% static icon_path %}" alt="" width="32" height="32">
    <span>SciTeX {{ module_name }}</span>
    <img src="{% static icon_path %}" alt="" width="32" height="32">
  </h2>

  <div style="display: grid; grid-template-columns: {{ video_position }}; gap: 2rem; align-items: center;">
    {% if video_first %}
    <!-- Video Section -->
    <div style="background: transparent; border-radius: 12px; padding: 1rem;">
      <div style="position: relative; width: 100%; padding-bottom: 56.25%; overflow: hidden; border-radius: 8px;">
        <video autoplay loop muted playsinline controls style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px; {% if object_fit %}object-fit: cover;{% endif %}" {% if poster %}poster="{% static poster %}"{% endif %}>
          <source src="{% static video_path %}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <div style="text-align: center; margin-top: 1rem;">
        <a href="{% url docs_url %}" class="btn btn-dark github-link-btn" style="margin-top: 0.5rem; margin-right: 0.5rem; display: inline-flex; align-items: center; gap: 0.5rem;">
          <i class="fas fa-book-open"></i> Documentation
        </a>
        <a href="{{ github_url }}" target="_blank" class="btn btn-dark github-link-btn" style="margin-top: 0.5rem; display: inline-flex; align-items: center; gap: 0.5rem;">
          <i class="fab fa-github"></i> View on GitHub
        </a>
        {% if extra_note %}
        <p style="font-size: 0.75rem; color: var(--color-fg-muted); margin-top: 0.5rem;">{{ extra_note }}</p>
        {% endif %}
      </div>
    </div>

    <!-- Features Section -->
    <div style="padding: 1rem;">
      <ul style="color: var(--color-fg-muted); line-height: 2; list-style: none; padding: 0; font-size: 1rem;">
        {% for feature in features %}
        <li style="margin-bottom: 0.8rem;">
          <strong style="color: var(--color-fg-default);">{{ feature.title }}</strong><br>
          <span style="font-size: 0.9rem; color: var(--color-fg-muted);">{{ feature.description }}</span>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% else %}
    <!-- Features Section -->
    <div style="padding: 1rem;">
      <ul style="color: var(--color-fg-muted); line-height: 2; list-style: none; padding: 0; font-size: 1rem;">
        {% for feature in features %}
        <li style="margin-bottom: 0.8rem;">
          <strong style="color: var(--color-fg-default);">{{ feature.title }}</strong><br>
          <span style="font-size: 0.9rem; color: var(--color-fg-muted);">{{ feature.description }}</span>
        </li>
        {% endfor %}
      </ul>
    </div>

    <!-- Video Section -->
    <div style="background: transparent; border-radius: 12px; padding: 1rem;">
      <div style="position: relative; width: 100%; padding-bottom: 56.25%; overflow: hidden; border-radius: 8px;">
        <video autoplay loop muted playsinline controls style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px; {% if object_fit %}object-fit: cover;{% endif %}" {% if poster %}poster="{% static poster %}"{% endif %}>
          <source src="{% static video_path %}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <div style="text-align: center; margin-top: 1rem;">
        <a href="{% url docs_url %}" class="btn btn-dark github-link-btn" style="margin-top: 0.5rem; margin-right: 0.5rem; display: inline-flex; align-items: center; gap: 0.5rem;">
          <i class="fas fa-book-open"></i> Documentation
        </a>
        <a href="{{ github_url }}" target="_blank" class="btn btn-dark github-link-btn" style="margin-top: 0.5rem; display: inline-flex; align-items: center; gap: 0.5rem;">
          <i class="fab fa-github"></i> View on GitHub
        </a>
        {% if extra_note %}
        <p style="font-size: 0.75rem; color: var(--color-fg-muted); margin-top: 0.5rem;">{{ extra_note }}</p>
        {% endif %}
      </div>
    </div>
    {% endif %}
  </div>
</div>
