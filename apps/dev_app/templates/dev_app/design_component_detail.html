{% extends "global_base.html" %}

{% block title %}{{ component.name }} - SciTeX Design System{% endblock %}

{% block meta_description %}{{ component.description }}{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/common.css' %}">
<link rel="stylesheet" href="{% static 'css/common/code-blocks.css' %}">
<link rel="stylesheet" href="{% static 'dev_app/styles/design.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/zenburn.min.css">
{% if component.css_file %}
<link rel="stylesheet" href="{{ component.css_file }}">
{% endif %}
<style>
  .component-demo {
    background-color: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: 8px;
    padding: 2rem;
    margin: 1rem 0;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    justify-content: center;
  }
  .file-upload-demo {
    border: 2px dashed var(--border-default);
    border-radius: 8px;
    padding: 3rem 1rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
  }
  .file-upload-demo:hover {
    border-color: var(--text-link);
    background-color: var(--bg-muted);
  }
  .file-upload-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }
  .file-upload-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
  }
  .file-upload-desc {
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin-bottom: 1rem;
  }
  .file-upload-button {
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: var(--bg-muted);
    color: var(--text-primary);
    border: 1px solid var(--border-default);
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.875rem;
    transition: all 0.2s ease;
  }
  .file-upload-button:hover {
    background-color: var(--text-primary);
    color: var(--bg-page);
  }
</style>
{% endblock %}

{% block content %}
<section style="background-color: var(--header-bg); color: var(--header-text); padding: 3rem 0; box-shadow: var(--shadow-md);">
  <div class="container" style="text-align: center;">
    <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; font-weight: 700;">{{ component.name }}</h1>
    <p style="font-size: 1.125rem; color: var(--header-text); opacity: 0.9;">{{ component.description }}</p>
  </div>
</section>

<div class="container py-5">
  <div style="display: flex; gap: 2rem;">
    {% include 'dev_app/design_partial/sidebar.html' %}
    <main style="flex: 1; min-width: 0;">
      <section>
        <h2>Overview</h2>
        <p>{{ component.description }}</p>
        <p><strong>Category:</strong> {{ component.category }}</p>
        {% if component.darkmode %}
        <p><strong>Dark Mode Support:</strong> Yes</p>
        {% endif %}
      </section>

      <!-- Interactive Component Examples -->
      {% if component.id == "File Upload" or component.name == "File Upload" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div class="file-upload-demo">
          <div class="file-upload-icon">⬆️</div>
          <div class="file-upload-title">Upload your file</div>
          <div class="file-upload-desc">Drag and drop your file here or click to browse</div>
          <button class="file-upload-button">Select File</button>
        </div>
      </section>
      {% endif %}

      {% if component.id == "Button" or component.name == "Button" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div class="component-demo">
          <button class="btn btn-primary">Primary Button</button>
          <button class="btn btn-secondary">Secondary Button</button>
          <button class="btn btn-outline">Outline Button</button>
          <button class="btn btn-danger">Danger Button</button>
        </div>
      </section>
      {% endif %}

      {% if component.id == "Badge" or component.name == "Badge" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div class="component-demo">
          <span class="badge badge-primary">Primary</span>
          <span class="badge badge-secondary">Secondary</span>
          <span class="badge badge-success">Success</span>
          <span class="badge badge-warning">Warning</span>
          <span class="badge badge-danger">Danger</span>
          <span class="badge badge-info">Info</span>
        </div>
      </section>
      {% endif %}

      {% if component.id == "Card" or component.name == "Card" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div style="background-color: var(--bg-surface); border: 1px solid var(--border-default); border-radius: 8px; padding: 2rem; max-width: 400px;">
          <h3 style="margin-top: 0;">Card Title</h3>
          <p>This is an example card component showing how content is organized with proper spacing and borders.</p>
          <button class="btn btn-primary" style="margin-top: 1rem;">Learn More</button>
        </div>
      </section>
      {% endif %}

      {% if component.id == "Tabs" or component.name == "Tabs" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div style="border-bottom: 2px solid var(--border-default); display: flex; gap: 1rem; margin-bottom: 1rem;">
          <button style="padding: 1rem 1.5rem; border: none; background: none; cursor: pointer; border-bottom: 2px solid var(--text-link); color: var(--text-link); font-weight: 600;">Tab 1</button>
          <button style="padding: 1rem 1.5rem; border: none; background: none; cursor: pointer; color: var(--text-secondary);">Tab 2</button>
          <button style="padding: 1rem 1.5rem; border: none; background: none; cursor: pointer; color: var(--text-secondary);">Tab 3</button>
        </div>
        <div style="padding: 1rem;">Content for Tab 1</div>
      </section>
      {% endif %}

      {% if component.id == "Checkbox" or component.name == "Checkbox" %}
      <section style="margin-top: 2rem;">
        <h2>Component Demo</h2>
        <div class="component-demo" style="justify-content: flex-start;">
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" checked>
            <span>Checked checkbox</span>
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox">
            <span>Unchecked checkbox</span>
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="checkbox" disabled>
            <span>Disabled checkbox</span>
          </label>
        </div>
      </section>
      {% endif %}

      {% if component.variants %}
      <section style="margin-top: 2rem;">
        <h2>Variants</h2>
        <ul>
          {% for variant in component.variants %}
          <li><code>{{ variant.class_name }}</code> - {{ variant.description }}</li>
          {% endfor %}
        </ul>
      </section>
      {% endif %}

      {% if component.states %}
      <section style="margin-top: 2rem;">
        <h2>States</h2>
        <ul>
          {% for state in component.states %}
          <li><strong>{{ state.name }}</strong> - {{ state.description }}</li>
          {% endfor %}
        </ul>
      </section>
      {% endif %}

      {% if component.examples %}
      <section style="margin-top: 2rem;">
        <h2>Code Examples</h2>
        {% for example in component.examples %}
        <div style="margin-bottom: 2rem;">
          <details>
            <summary style="padding: 0.5rem; background-color: var(--bg-muted); border-radius: 4px; cursor: pointer; font-weight: 500;">View HTML</summary>
            <pre style="margin-top: 1rem;"><code>{{ example|escape }}</code></pre>
          </details>
        </div>
        {% endfor %}
      </section>
      {% endif %}
    </main>
  </div>
</div>
{% endblock %}

{% block extra_js %}
{% load static %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('pre code').forEach((block) => {
      hljs.highlightElement(block);
    });
  });
</script>
<script src="{% static 'js/code-blocks.js' %}"></script>
<script src="{% static 'dev_app/scripts/design.js' %}"></script>
{% endblock %}
