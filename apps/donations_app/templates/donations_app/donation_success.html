{% extends "cloud_app/base.html" %}
{% load static %}
{% block title %}
    Thank
    You! - SciTeX
{% endblock %}
{% block extra_css %}
    <style>
  .success-container {
    max-width: 600px;
    margin: 4rem auto;
    text-align: center;
  }

  .success-icon {
    font-size: 5rem;
    color: var(--success-color);
    margin-bottom: 2rem;
    animation: checkmark 0.5s ease-in-out;
  }

  @keyframes checkmark {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    50% {
      transform: scale(1.2);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  .success-message {
    background: white;
    padding: 3rem;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--box-shadow-lg);
    margin-bottom: 2rem;
  }

  .donation-details {
    background: var(--scitex-color-07);
    padding: 2rem;
    border-radius: var(--border-radius);
    text-align: left;
    margin: 2rem 0;
  }

  .detail-row {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--scitex-color-06);
  }

  .detail-row:last-child {
    border-bottom: none;
  }

  .detail-label {
    font-weight: 600;
    color: var(--scitex-color-02);
  }

  .detail-value {
    color: var(--scitex-color-01);
  }

  .actions {
    margin-top: 3rem;
  }

  .share-buttons {
    margin-top: 2rem;
  }

  .share-buttons a {
    display: inline-block;
    margin: 0 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--scitex-color-06);
    color: var(--scitex-color-01);
    text-decoration: none;
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
  }

  .share-buttons a:hover {
    background: var(--scitex-color-05);
    transform: translateY(-2px);
  }

  .receipt-info {
    margin-top: 3rem;
    padding: 1.5rem;
    background: var(--scitex-color-07);
    border-radius: var(--border-radius);
    border-left: 4px solid var(--info-color);
  }
    </style>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="success-container">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="success-message">
                <h1>Thank You for Your Support!</h1>
                <p class="lead">
                    Your donation helps us continue building open-source tools for
                    scientific research.
                </p>
                <div class="donation-details">
                    <div class="detail-row">
                        <span class="detail-label">Donation Amount</span>
                        <span class="detail-value">${{ donation.amount }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Payment Method</span>
                        <span class="detail-value">{{ donation.get_payment_method_display }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Transaction ID</span>
                        <span class="detail-value">{{ donation.transaction_id }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date</span>
                        <span class="detail-value">{{ donation.completed_at|date:"F d, Y" }}</span>
                    </div>
                </div>
                <div class="receipt-info">
                    <h4>
                        <i class="fas fa-receipt"></i> Receipt Information
                    </h4>
                    <p>
                        A donation receipt has been sent to
                        <strong>{{ donation.donor_email }}</strong> for your records.
                    </p>
                    <p class="mb-0">This receipt can be used for tax deduction purposes where applicable.</p>
                </div>
                {% if donation.is_public and not donation.is_anonymous %}
                    <div class="share-buttons">
                        <h4>Share Your Support</h4>
                        <a href="https://twitter.com/intent/tweet?text=I%20just%20supported%20%40SciTeX_AI%20to%20help%20make%20scientific%20research%20more%20accessible!%20%23OpenScience&url=https://scitex.ai"
                           target="_blank">
                            <i class="fab fa-twitter"></i> Share on X
                        </a>
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://scitex.ai"
                           target="_blank">
                            <i class="fab fa-linkedin"></i> Share on LinkedIn
                        </a>
                    </div>
                {% endif %}
            </div>
            <div class="actions">
                <a href="{% url 'cloud_app:index' %}" class="btn btn-primary">Return to Home</a>
                <a href="https://github.com/SciTex-AI"
                   class="btn btn-outline-secondary"
                   target="_blank">Explore Our Code</a>
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_js %}
    <script>
  // Confetti animation for celebration
  document.addEventListener("DOMContentLoaded", function () {
    // Simple confetti effect
    const colors = ["#4a6baf", "#28a745", "#ffc107", "#dc3545"];
    const confettiCount = 50;

    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement("div");
      confetti.style.position = "fixed";
      confetti.style.width = "10px";
      confetti.style.height = "10px";
      confetti.style.backgroundColor =
        colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = Math.random() * 100 + "%";
      confetti.style.top = "-10px";
      confetti.style.opacity = Math.random();
      confetti.style.transform = "rotate(" + Math.random() * 360 + "deg)";
      confetti.style.pointerEvents = "none";

      document.body.appendChild(confetti);

      // Animate falling
      const duration = Math.random() * 3 + 2;
      const xMovement = (Math.random() - 0.5) * 200;

      confetti.animate(
        [
          { transform: "translateY(0) translateX(0) rotate(0deg)", opacity: 1 },
          {
            transform: `translateY(100vh) translateX(${xMovement}px) rotate(${Math.random() * 720}deg)`,
            opacity: 0,
          },
        ],
        {
          duration: duration * 1000,
          easing: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
        },
      ).onfinish = () => confetti.remove();
    }
  });
    </script>
{% endblock %}
