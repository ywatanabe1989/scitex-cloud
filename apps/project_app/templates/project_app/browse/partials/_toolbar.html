<!-- File Browser Toolbar (GitHub-style) -->
<div class="file-browser-toolbar" style="display: flex; justify-content: space-between; align-items: center; margin-top: 16px; margin-bottom: 16px;">
    <div style="display: flex; gap: 8px; align-items: center;">
        <!-- Go to file search -->
        <div style="position: relative;">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--color-fg-muted); pointer-events: none;">
                <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.5 4.5 0 1 0-8.999.001A4.5 4.5 0 0 0 11.5 7Z"/>
            </svg>
            <input type="text"
                   placeholder="Go to file"
                   id="goto-file-input"
                   style="padding: 5px 12px 5px 32px; border: 1px solid var(--color-border-default); border-radius: 6px; background: var(--color-canvas-default); color: var(--color-fg-default); font-size: 12px; width: 180px; transition: all 0.2s;"
                   onfocus="this.style.borderColor='var(--color-accent-fg)'; this.style.width='250px';"
                   onblur="this.style.borderColor='var(--color-border-default)'; this.style.width='180px';">
        </div>
    </div>

    <div style="display: flex; gap: 8px; align-items: center;">
        <!-- Add File Button (Moved to right side) -->
        <div class="btn-group">
            <button type="button" class="btn btn-sm repo-action-btn" style="display: flex; align-items: center; gap: 4px;" onclick="toggleAddFileDropdown()">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"/>
                </svg>
                Add file
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="opacity: 0.6;">
                    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"/>
                </svg>
            </button>
            <div id="add-file-dropdown" class="dropdown-menu" style="display: none; position: absolute; right: 0; z-index: 9999; background: var(--color-canvas-default); border: 1px solid var(--color-border-default); border-radius: 6px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); min-width: 200px; margin-top: 4px;">
                <a href="/{{ project.owner.username }}/{{ project.slug }}/new-file/" class="dropdown-item" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="display: inline-block; vertical-align: text-bottom; margin-right: 4px;">
                        <path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
                    </svg>
                    Create new file
                </a>
                <a href="/{{ project.owner.username }}/{{ project.slug }}/upload/" class="dropdown-item" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="display: inline-block; vertical-align: text-bottom; margin-right: 4px;">
                        <path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/>
                        <path d="M11.78 4.72a.749.749 0 1 1-1.06 1.06L8.75 3.811V9.5a.75.75 0 0 1-1.5 0V3.811L5.28 5.78a.749.749 0 1 1-1.06-1.06l3.25-3.25a.749.749 0 0 1 1.06 0l3.25 3.25Z"/>
                    </svg>
                    Upload files
                </a>
            </div>
        </div>
        <!-- Copy Concatenated Text Button -->
        <div class="btn-group">
            <button onclick="copyProjectToClipboard()" class="btn btn-sm" id="copy-project-btn" style="background: var(--color-canvas-default); border: 1px solid var(--color-border-default); color: var(--color-fg-default); border-radius: 6px; padding: 5px 12px; font-size: 12px; font-weight: 600;">
                Copy Concatenated
            </button>
            <button class="btn btn-sm dropdown-toggle-split" type="button" onclick="toggleCopyDropdown()" style="background: var(--color-canvas-default); border: 1px solid var(--color-border-default); border-left: none; color: var(--color-fg-default); border-radius: 0 6px 6px 0; padding: 5px 8px;">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="opacity: 0.6;">
                    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"/>
                </svg>
            </button>
            <div id="copy-dropdown" class="dropdown-menu" style="display: none; position: absolute; z-index: 9999; background: var(--color-canvas-default); border: 1px solid var(--color-border-default); border-radius: 6px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); min-width: 200px; margin-top: 4px; right: 0;">
                <a class="dropdown-item" href="#" onclick="event.preventDefault(); copyProjectToClipboard();" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">Copy Concatenated Text</a>
                <a class="dropdown-item" href="#" onclick="event.preventDefault(); downloadProjectAsFile();" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">Download Concatenated Text</a>
            </div>
        </div>

        <!-- More Options Button -->
        <button type="button" class="btn btn-sm" style="background: var(--color-canvas-default); border: 1px solid var(--color-border-default); color: var(--color-fg-default); border-radius: 6px; padding: 5px 8px; font-size: 12px; font-weight: 600;" onclick="toggleMoreDropdown()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/>
            </svg>
        </button>
        <div id="more-dropdown" class="dropdown-menu" style="display: none; position: absolute; z-index: 9999; background: var(--color-canvas-default); border: 1px solid var(--color-border-default); border-radius: 6px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); min-width: 200px; margin-top: 4px; right: 0;">
            <a href="#" class="dropdown-item" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">About this repository</a>
            <a href="#" class="dropdown-item" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">View all branches</a>
            <div style="border-top: 1px solid var(--color-border-default); margin: 4px 0;"></div>
            <a href="#" class="dropdown-item" style="padding: 8px 16px; display: block; color: var(--color-fg-default); text-decoration: none;">Manage topics</a>
        </div>
    </div>
</div>
