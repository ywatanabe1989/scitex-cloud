<!-- Pagination -->
{% if commits.has_other_pages %}
<div class="pagination-container">
    <div class="pagination">
        {% if commits.has_previous %}
        <a href="?page=1{% if author_filter %}&author={{ author_filter }}{% endif %}" class="page-link">
            « First
        </a>
        <a href="?page={{ commits.previous_page_number }}{% if author_filter %}&author={{ author_filter }}{% endif %}" class="page-link">
            ‹ Previous
        </a>
        {% else %}
        <span class="page-link disabled">« First</span>
        <span class="page-link disabled">‹ Previous</span>
        {% endif %}

        {% for num in commits.paginator.page_range %}
            {% if commits.number == num %}
                <span class="page-link active">{{ num }}</span>
            {% elif num > commits.number|add:'-3' and num < commits.number|add:'3' %}
                <a href="?page={{ num }}{% if author_filter %}&author={{ author_filter }}{% endif %}" class="page-link">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if commits.has_next %}
        <a href="?page={{ commits.next_page_number }}{% if author_filter %}&author={{ author_filter }}{% endif %}" class="page-link">
            Next ›
        </a>
        <a href="?page={{ commits.paginator.num_pages }}{% if author_filter %}&author={{ author_filter }}{% endif %}" class="page-link">
            Last »
        </a>
        {% else %}
        <span class="page-link disabled">Next ›</span>
        <span class="page-link disabled">Last »</span>
        {% endif %}
    </div>
</div>
{% endif %}
