{% extends "scholar_app/scholar_base.html" %}
{% load static %}

{% block title %}SciTeX Scholar - Literature Search{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/hero.css' %}">
<link rel="stylesheet" href="{% static 'css/common/scitex-components.css' %}">
<link rel="stylesheet" href="{% static 'css/common/terminal-log.css' %}">
<link rel="stylesheet" href="{% static 'css/common.css' %}">
<link rel="stylesheet" href="{% static 'scholar_app/styles/scholar-index.css' %}">
{% endblock %}

{% block extra_js %}

{% endblock %}

{% block content %}
<!-- Split-Screen Layout -->
<div class="container u-mt-2 u-mb-3">
  <div class="split-container" id="splitContainer">
    {% include "scholar_app/index_partials/enrich.html" %}

    {% include "scholar_app/index_partials/search.html" %}
  </div>

  {% if query %}
  <div class="mt-4">
    {% include "scholar_app/index_partials/search_results_header.html" %}

    {% include "scholar_app/index_partials/api_key_alert.html" %}

    {% include "scholar_app/index_partials/progressive_loading.html" %}

    <!-- Search Results -->
    {% for result in results %}
    {% include "scholar_app/index_partials/result_card.html" %}
    {% endfor %}

    {% include "scholar_app/index_partials/pagination.html" %}
  </div>
</div>
</div>
{% else %}
<!-- <\!-- Quick Examples -\->
     !-- <div class="row justify-content-center">
     !--     <div class="col-lg-8 text-center">
     !--         <div class="mt-4">
     !--             <p class="mb-3">Try searching for:</p>
     !--             <div class="d-flex flex-wrap justify-content-center gap-2">
     !--                 <a href="?q=neural mechanisms visual attention" class="btn btn-outline-primary btn-sm">neural mechanisms visual attention</a>
     !--                 <a href="?q=machine learning neuroscience" class="btn btn-outline-primary btn-sm">machine learning neuroscience</a>
     !--                 <a href="?q=fMRI attention networks" class="btn btn-outline-primary btn-sm">fMRI attention networks</a>
     !--                 <a href="?q=computational vision models" class="btn btn-outline-primary btn-sm">computational vision models</a>
     !--             </div>
     !--         </div>
     !--     </div>
     !-- </div> -->
     {% endif %}
</div>

<!-- Configuration for JavaScript -->
<script>
  // Django template variables for JavaScript
  window.SCHOLAR_CONFIG = {
  urls: {
  bibtexUpload: '{% url "scholar_app:bibtex_upload" %}',
  resourceStatus: '{% url "scholar_app:bibtex_resource_status" %}'
  },
  user: {
  isAuthenticated: {% if user.is_authenticated %}true{% else %}false{% endif %}
  }
  };
</script>
<!-- Panel Toggle Functionality -->
<script src="{% static 'scholar_app/scripts/panel-toggle.js' %}"></script>
<!-- BibTeX Enrichment -->
<script src="{% static 'scholar_app/scripts/bibtex-enrichment.js' %}"></script>
<!-- Queue Management -->
<script src="{% static 'scholar_app/scripts/queue-management.js' %}"></script>
<!-- Main Scholar Index Functionality -->
<script src="{% static 'scholar_app/scripts/scholar-index-main.js' %}"></script>

{% endblock %}

