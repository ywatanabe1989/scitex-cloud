/* ========================================
 * tex-view-sidebar.css
 * Styles for the LaTeX editor sidebar
 * Refactored to use central CSS for styling
 * Styling delegated to: /static/css/common.css, /static/css/components/*.css
 * ======================================== */

/* Sidebar Container */
.writer-sidebar {
    width: 320px;
    /* background: var(--color-canvas-default); */  /* Styling from central CSS */
    /* border-right: 1px solid var(--color-border-default); */  /* Styling from central CSS */
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Sidebar Header */
.sidebar-header {
    padding: 1.5rem;
    /* background: var(--color-accent-emphasis); */  /* Styling from central CSS */
    /* color: var(--color-fg-on-emphasis); */  /* Styling from central CSS */
}

.project-info {
    margin-bottom: 1rem;
}

.project-name {
    /* font-size: 1.1rem; */  /* Styling from central CSS */
    /* font-weight: 600; */  /* Styling from central CSS */
    margin-bottom: 0.25rem;
}

.manuscript-title {
    /* font-size: 0.9rem; */  /* Styling from central CSS */
    /* opacity: 0.9; */  /* Styling from central CSS */
}

/* Writing Stats */
.writing-stats {
    /* background: rgba(255, 255, 255, 0.1); */  /* Styling from central CSS */
    padding: 1rem;
    /* border-radius: var(--border-radius); */  /* Styling from central CSS */
    margin-top: 1rem;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    /* font-size: 0.9rem; */  /* Styling from central CSS */
}

.stat-item:last-child {
    margin-bottom: 0;
}

/* Sidebar Content */
.sidebar-content {
    flex: 1;
    padding: 1.5rem;
    overflow-y: auto;
}

/* ========================================
 * Section List
 * ======================================== */

.section-list {
    margin-bottom: 2rem;
}

.section-item {
    padding: 0.5rem 0.75rem;
    /* border: 1px solid var(--color-border-default); */  /* Styling from central CSS */
    /* border-radius: var(--border-radius); */  /* Styling from central CSS */
    margin-bottom: 0.4rem;
    cursor: move;
    /* transition: var(--transition); */  /* Styling from central CSS */
    /* background: var(--color-canvas-default); */  /* Styling from central CSS */
    position: relative;
}

.section-item.dragging {
    /* opacity: 0.5; */  /* Styling from central CSS */
    cursor: grabbing;
}

.section-item.drag-over {
    /* border-top: 3px solid var(--scitex-accent); */  /* Styling from central CSS */
}

.section-drag-handle {
    position: absolute;
    left: 0.25rem;
    top: 50%;
    transform: translateY(-50%);
    /* color: var(--color-fg-muted); */  /* Styling from central CSS */
    /* font-size: 0.75rem; */  /* Styling from central CSS */
    cursor: grab;
}

.section-drag-handle:active {
    cursor: grabbing;
}

.section-item:hover {
    /* border-color: var(--scitex-accent); */  /* Styling from central CSS */
    /* transform: translateY(-1px); */  /* Styling from central CSS */
}

.section-item.active {
    /* border-color: var(--color-accent-emphasis); */  /* Styling from central CSS */
    /* background: var(--color-accent-emphasis); */  /* Styling from central CSS */
    /* color: var(--color-fg-on-emphasis); */  /* Styling from central CSS */
}

.section-item.active .section-name {
    /* color: var(--color-fg-on-emphasis); */  /* Styling from central CSS */
}

.section-item.active .section-stats {
    /* color: var(--color-fg-on-emphasis); */  /* Styling from central CSS */
    /* opacity: 0.9; */  /* Styling from central CSS */
}

/* Locked Sections */
.section-item.section-locked {
    /* opacity: 0.6; */  /* Styling from central CSS */
    cursor: not-allowed;
    /* border-color: var(--color-danger-emphasis); */  /* Styling from central CSS */
    /* background: var(--color-danger-subtle); */  /* Styling from central CSS */
    position: relative;
}

.section-item.section-locked::after {
    content: 'ðŸ”’';
    position: absolute;
    right: 0.5rem;
    top: 50%;
    transform: translateY(-50%);
    /* font-size: 1rem; */  /* Styling from central CSS */
}

.section-item.section-locked:hover {
    /* transform: none; */  /* Styling from central CSS */
}

/* Section Content */
.section-name {
    /* font-weight: 600; */  /* Styling from central CSS */
    /* font-size: 0.85rem; */  /* Styling from central CSS */
    /* color: var(--color-fg-default); */  /* Styling from central CSS */
    margin-bottom: 0.15rem;
    /* line-height: 1.2; */  /* Styling from central CSS */
}

.section-stats {
    display: flex;
    justify-content: between;
    /* font-size: 0.75rem; */  /* Styling from central CSS */
    /* color: var(--color-fg-muted); */  /* Styling from central CSS */
}

.word-count {
    margin-right: 1rem;
}

/* Completion Indicator */
.completion-indicator {
    width: 100%;
    height: 2px;
    /* background: var(--color-border-default); */  /* Styling from central CSS */
    /* border-radius: 2px; */  /* Styling from central CSS */
    margin-top: 0.2rem;
    overflow: hidden;
}

.completion-fill {
    height: 100%;
    /* background: linear-gradient(90deg, var(--scitex-primary), var(--scitex-accent)); */  /* Styling from central CSS */
    /* transition: width 0.3s ease; */  /* Styling from central CSS */
}

/* ========================================
 * Section Pool (Available Sections)
 * ======================================== */

.section-pool {
    padding-top: 0.5rem;
}

.available-sections {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
}

.available-section-item {
    padding: 0.5rem;
    /* border: 1px dashed var(--color-border-default); */  /* Styling from central CSS */
    /* border-radius: var(--border-radius); */  /* Styling from central CSS */
    /* background: var(--color-canvas-subtle); */  /* Styling from central CSS */
    /* font-size: 0.85rem; */  /* Styling from central CSS */
    display: flex;
    justify-content: space-between;
    align-items: center;
    /* color: var(--color-fg-default); */  /* Styling from central CSS */
    cursor: move;
    /* transition: var(--transition); */  /* Styling from central CSS */
}

.available-section-item:hover {
    /* border-color: var(--color-accent-fg); */  /* Styling from central CSS */
    /* background: var(--color-canvas-inset); */  /* Styling from central CSS */
}

.available-section-item.dragging {
    /* opacity: 0.5; */  /* Styling from central CSS */
}

/* Drop Zone Styling */
.section-items.drop-zone-active,
.available-sections.drop-zone-active {
    /* background: rgba(80, 107, 122, 0.05); */  /* Styling from central CSS */
    /* border-radius: var(--border-radius); */  /* Styling from central CSS */
    padding: 0.5rem;
    margin: -0.5rem;
}

/* ========================================
 * Section Action Buttons
 * ======================================== */

.section-remove-btn {
    /* background: none; */  /* Styling from central CSS */
    /* border: none; */  /* Styling from central CSS */
    /* font-size: 1rem; */  /* Styling from central CSS */
    /* color: #6c757d; */  /* Styling from central CSS */
    cursor: pointer;
    /* opacity: 0.6; */  /* Styling from central CSS */
    /* transition: var(--transition); */  /* Styling from central CSS */
    padding: 0;
    /* line-height: 1; */  /* Styling from central CSS */
}

.section-remove-btn:hover {
    /* opacity: 1; */  /* Styling from central CSS */
    /* transform: scale(1.1); */  /* Styling from central CSS */
}

.section-add-btn {
    /* font-size: 1rem; */  /* Styling from central CSS */
    /* color: var(--scitex-accent); */  /* Styling from central CSS */
}

/* Action Buttons Container */
.action-buttons {
    display: flex;
    flex-direction: column;
    margin-top: 1rem;
}

.btn-primary {
    /* background: var(--scitex-primary); */  /* Styling from central CSS */
    /* border-color: var(--scitex-primary); */  /* Styling from central CSS */
}

.btn-primary:hover {
    /* background: var(--scitex-secondary); */  /* Styling from central CSS */
    /* border-color: var(--scitex-secondary); */  /* Styling from central CSS */
}

/* ========================================
 * TeX Files Browser
 * ======================================== */

.tex-files-browser {
    border-top: 1px solid var(--color-border-default);
    border-bottom: 1px solid var(--color-border-default);
    padding-top: 1rem;
    padding-bottom: 1rem;
}

.tex-files-list {
    max-height: 300px;
    overflow-y: auto;
}

.tex-file-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.25rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.tex-file-item:hover {
    background: var(--color-canvas-subtle);
    border-color: var(--color-border-default);
}

.tex-file-item.active {
    background: var(--color-accent-subtle);
    border-color: var(--color-accent-emphasis);
}

.tex-file-item.modified {
    border-left: 3px solid var(--color-danger-emphasis);
}

.tex-file-info {
    flex: 1;
    min-width: 0;
}

.tex-file-name {
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 0.125rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.tex-file-meta {
    font-size: 0.75rem;
    color: var(--color-fg-muted);
    display: flex;
    gap: 0.5rem;
}

.tex-file-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.tex-file-item:hover .tex-file-actions {
    opacity: 1;
}

.tex-file-repo-link {
    color: var(--color-accent-fg);
    text-decoration: none;
    padding: 0.25rem 0.375rem;
    border-radius: 3px;
    background: var(--color-accent-subtle);
    border: 1px solid var(--color-border-default);
    font-size: 0.85rem;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
}

.tex-file-repo-link:hover {
    background: var(--color-accent-muted);
    border-color: var(--color-accent-emphasis);
    text-decoration: none;
}

.tex-file-repo-link i {
    font-size: 0.9rem;
}

.tex-file-status {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.tex-file-status.saved {
    background: var(--color-success-emphasis);
}

.tex-file-status.modified {
    background: var(--color-attention-emphasis);
}

.tex-file-doc-type {
    display: inline-block;
    font-size: 0.65rem;
    padding: 0.125rem 0.375rem;
    border-radius: 3px;
    background: var(--color-accent-subtle);
    color: var(--color-accent-fg);
    font-weight: 600;
    text-transform: uppercase;
}

/* ========================================
 * Responsive Design
 * ======================================== */

@media (max-width: 768px) {
    .writer-sidebar {
        width: 100%;
        height: 200px;
    }
}
