# SciTeX Cloud - NAS Deployment Environment Variables
# For: Synology DXP480T Plus with Cloudflare Tunnel
# Copy this to ~/proj/scitex-cloud/SECRET/.env.nas and configure

# ========================================
# Django Settings
# ========================================
DEBUG=False
DJANGO_SETTINGS_MODULE=config.settings.settings_nas

# ========================================
# Server Ports (Internal - not exposed)
# ========================================
# Cloudflare Tunnel handles external HTTPS, nginx listens internally on 80
SCITEX_CLOUD_HTTP_PORT_NAS=80
SCITEX_CLOUD_GITEA_HTTP_PORT_NAS=3000
SCITEX_CLOUD_GITEA_SSH_PORT_NAS=222

# SECURITY WARNING: Generate a new secret key for NAS!
# python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=CHANGE-THIS-TO-A-SECURE-SECRET-KEY-FOR-NAS
SCITEX_CLOUD_DJANGO_SECRET_KEY=CHANGE-THIS-TO-A-SECURE-SECRET-KEY-FOR-NAS

# ========================================
# Domain & Security
# ========================================
ALLOWED_HOSTS=scitex.ai,www.scitex.ai,web,nginx,localhost
SCITEX_CLOUD_ALLOWED_HOSTS=scitex.ai,www.scitex.ai,localhost
CSRF_TRUSTED_ORIGINS=https://scitex.ai,https://www.scitex.ai

# SSL/HTTPS - Handled by Cloudflare
ENABLE_SSL_REDIRECT=false  # Cloudflare handles HTTPS
FORCE_HTTPS_COOKIES=true   # But cookies should be secure

# ========================================
# Database - PostgreSQL
# ========================================
POSTGRES_DB=scitex_cloud_nas
POSTGRES_USER=scitex_nas
POSTGRES_PASSWORD=CHANGE-THIS-DATABASE-PASSWORD-FOR-NAS

# Django database settings
SCITEX_CLOUD_DB_NAME_NAS=scitex_cloud_nas
SCITEX_CLOUD_DB_USER_NAS=scitex_nas
SCITEX_CLOUD_DB_PASSWORD_NAS=CHANGE-THIS-DATABASE-PASSWORD-FOR-NAS
SCITEX_CLOUD_DB_HOST_NAS=db
SCITEX_CLOUD_DB_PORT_NAS=5432

# ========================================
# Redis Cache
# ========================================
REDIS_URL=redis://redis:6379/0

# ========================================
# Email Configuration
# ========================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=mail1030.onamae.ne.jp
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=agent@scitex.ai
EMAIL_HOST_PASSWORD=CHANGE-THIS-EMAIL-PASSWORD

SCITEX_EMAIL_ADMIN=admin@scitex.ai
SCITEX_EMAIL_AGENT=agent@scitex.ai
SCITEX_EMAIL_SUPPORT=support@scitex.ai
SCITEX_EMAIL_YWATANABE=ywatanabe@scitex.ai
SCITEX_EMAIL_PASSWORD=CHANGE-THIS-EMAIL-PASSWORD

# ========================================
# Cloudflare Tunnel
# ========================================
# Get this token from: Cloudflare Dashboard > Zero Trust > Networks > Tunnels
SCITEX_CLOUD_CLOUDFLARE_TUNNEL_TOKEN_NAS=YOUR-CLOUDFLARE-TUNNEL-TOKEN-HERE

# ========================================
# Gitea Integration
# ========================================
SCITEX_CLOUD_GITEA_URL_NAS=https://git.scitex.ai
SCITEX_CLOUD_GITEA_HTTP_PORT_NAS=3000
SCITEX_CLOUD_GITEA_SSH_PORT_NAS=222
SCITEX_CLOUD_GITEA_API_URL_NAS=https://git.scitex.ai/api/v1
SCITEX_CLOUD_GITEA_TOKEN_NAS=

# ========================================
# SciTeX Scholar Configuration
# ========================================
SCITEX_USE_CACHE=True
SCITEX_MAX_WORKERS=8  # NAS has good specs!
SCITEX_TIMEOUT_PER_ENGINE=30
SCITEX_ENGINES=CrossRef,PubMed,Semantic_Scholar,arXiv,OpenAlex
SCITEX_DEFAULT_MODE=parallel

# ========================================
# Environment
# ========================================
SCITEX_CLOUD_ENV=nas
SCITEX_LOGGING_LEVEL=info
SCITEX_SUPPRESS_IMPORTING_MESSAGES=True

# ========================================
# Directories
# ========================================
SCITEX_DIR=/volume1/docker/scitex-data/.scitex/

# EOF
