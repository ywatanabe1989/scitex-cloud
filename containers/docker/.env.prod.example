# SciTeX Cloud - Production Environment Variables
# Copy this to .env.prod and configure with actual production values
# Based on: /deployment/dotenvs/dotenv_prod

# ========================================
# Django Settings
# ========================================
DEBUG=False
DJANGO_SETTINGS_MODULE=config.settings.settings_prod

# ========================================
# Server Ports
# ========================================
SCITEX_CLOUD_NGINX_HTTP_PORT_PROD=80
SCITEX_CLOUD_NGINX_HTTPS_PORT_PROD=443

# SECURITY WARNING: Generate a new secret key for production!
# python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=CHANGE-THIS-TO-A-SECURE-SECRET-KEY-IN-PRODUCTION
SCITEX_CLOUD_DJANGO_SECRET_KEY=CHANGE-THIS-TO-A-SECURE-SECRET-KEY-IN-PRODUCTION

# ========================================
# Domain & Security
# ========================================
ALLOWED_HOSTS=scitex.ai,www.scitex.ai,web,localhost
SCITEX_CLOUD_ALLOWED_HOSTS=scitex.ai,www.scitex.ai,localhost

# SSL/HTTPS Settings
ENABLE_SSL_REDIRECT=false  # Set to 'true' after SSL certificates are configured
FORCE_HTTPS_COOKIES=false  # Set to 'true' after SSL certificates are configured

# ========================================
# Database - Production PostgreSQL
# ========================================
# IMPORTANT: For Docker, use 'db' not 'localhost' for host
POSTGRES_DB=scitex_cloud_prod
POSTGRES_USER=scitex_prod
POSTGRES_PASSWORD=CHANGE-THIS-SECURE-PASSWORD-IN-PRODUCTION

# Django database settings (must match PostgreSQL settings above)
SCITEX_CLOUD_DB_NAME_PROD=scitex_cloud_prod
SCITEX_CLOUD_DB_USER_PROD=scitex_prod
SCITEX_CLOUD_DB_PASSWORD_PROD=CHANGE-THIS-SECURE-PASSWORD-IN-PRODUCTION
SCITEX_CLOUD_DB_HOST_PROD=db
SCITEX_CLOUD_DB_PORT_PROD=5432

# Database URL (alternative format)
DATABASE_URL=postgresql://scitex_prod:CHANGE-THIS-SECURE-PASSWORD-IN-PRODUCTION@db:5432/scitex_cloud_prod

# ========================================
# Redis Cache
# ========================================
REDIS_URL=redis://redis:6379/0

# ========================================
# Logging
# ========================================
SCITEX_LOGGING_LEVEL=warning

# ========================================
# Email Configuration (Production)
# ========================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=mail1030.onamae.ne.jp
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=agent@scitex.ai
EMAIL_HOST_PASSWORD=CHANGE-THIS-EMAIL-PASSWORD-IN-PRODUCTION

# SciTeX Email Settings
SCITEX_EMAIL_ADMIN=admin@scitex.ai
SCITEX_EMAIL_AGENT=agent@scitex.ai
SCITEX_EMAIL_SUPPORT=support@scitex.ai
SCITEX_EMAIL_YWATANABE=ywatanabe@scitex.ai
SCITEX_EMAIL_PASSWORD=CHANGE-THIS-EMAIL-PASSWORD-IN-PRODUCTION

# ========================================
# Gitea Integration
# ========================================
SCITEX_CLOUD_GITEA_URL_PROD=https://git.scitex.ai
SCITEX_CLOUD_GITEA_HTTP_PORT_PROD=3000
SCITEX_CLOUD_GITEA_SSH_PORT_PROD=222
SCITEX_CLOUD_GITEA_API_URL_PROD=https://git.scitex.ai/api/v1
SCITEX_CLOUD_GITEA_TOKEN_PROD=  # Set this after Gitea setup

# ========================================
# SciTeX Scholar Configuration
# ========================================
SCITEX_USE_CACHE=True
SCITEX_MAX_WORKERS=8
SCITEX_TIMEOUT_PER_ENGINE=30
SCITEX_ENGINES=CrossRef,PubMed,Semantic_Scholar,arXiv,OpenAlex
SCITEX_DEFAULT_MODE=parallel

# Scholar API Keys (from environment or set here)
SCITEX_SCHOLAR_ZENROWS_API_KEY=${SCITEX_SCHOLAR_ZENROWS_API_KEY}
SCITEX_SCHOLAR_SEMANTIC_SCHOLAR_API_KEY=${SCITEX_SCHOLAR_SEMANTIC_SCHOLAR_API_KEY}
SCITEX_SCHOLAR_2CAPTCHA_API_KEY=${SCITEX_SCHOLAR_2CAPTCHA_API_KEY}
SCITEX_SCHOLAR_CAPTCHA_SOLVER_API_KEY=${SCITEX_SCHOLAR_CAPTCHA_SOLVER_API_KEY}

# Scholar Email Settings
SCITEX_SCHOLAR_FROM_EMAIL_ADDRESS=agent@scitex.ai
SCITEX_SCHOLAR_FROM_EMAIL_SENDER_NAME=SciTeX Scholar
SCITEX_SCHOLAR_FROM_EMAIL_SMTP_SERVER=mail1030.onamae.ne.jp
SCITEX_SCHOLAR_FROM_EMAIL_SMTP_PORT=587
SCITEX_SCHOLAR_FROM_EMAIL_PASSWORD=${SCITEX_EMAIL_PASSWORD}
SCITEX_SCHOLAR_TO_EMAIL_ADDRESS=ywata1989@gmail.com
SCITEX_SCHOLAR_CROSSREF_EMAIL=ywata1989@gmail.com
SCITEX_SCHOLAR_PUBMED_EMAIL=ywata1989@gmail.com

# Scholar Browser Settings
SCITEX_SCHOLAR_BROWSER_BACKEND=zenrows
SCITEX_SCHOLAR_ZENROWS_PROXY_DOMAIN=superproxy.zenrows.com
SCITEX_SCHOLAR_ZENROWS_PROXY_PORT=1337
SCITEX_SCHOLAR_ZENROWS_PROXY_COUNTRY=au
SCITEX_SCHOLAR_ZENROWS_PROXY_USERNAME=${SCITEX_SCHOLAR_ZENROWS_PROXY_USERNAME}
SCITEX_SCHOLAR_ZENROWS_PROXY_PASSWORD=${SCITEX_SCHOLAR_ZENROWS_PROXY_PASSWORD}

# Scholar OpenAthens/SSO
SCITEX_SCHOLAR_OPENATHENS_ENABLED=true
SCITEX_SCHOLAR_OPENATHENS_USERNAME=${SCITEX_SCHOLAR_OPENATHENS_USERNAME}
SCITEX_SCHOLAR_OPENATHENS_PASSWORD=${SCITEX_SCHOLAR_OPENATHENS_PASSWORD}
SCITEX_SCHOLAR_OPENATHENS_EMAIL=${SCITEX_SCHOLAR_OPENATHENS_EMAIL}
SCITEX_SCHOLAR_SSO_USERNAME=${SCITEX_SCHOLAR_SSO_USERNAME}
SCITEX_SCHOLAR_SSO_PASSWORD=${SCITEX_SCHOLAR_SSO_PASSWORD}
SCITEX_SCHOLAR_SSO_EMAIL=${SCITEX_SCHOLAR_SSO_EMAIL}

# Scholar Other Settings
SCITEX_SCHOLAR_OPENURL_RESOLVER_URL=https://unimelb.hosted.exlibrisgroup.com/sfxlcl41
SCITEX_SCHOLAR_PDF_MAX_PARALLEL=8
SCITEX_SCHOLAR_DEBUG_MODE=false

# ========================================
# Environment & Directories
# ========================================
SCITEX_CLOUD_ENV=production
SCITEX_DIR=/home/ywatanabe/.scitex/
SCITEX_SUPPRESS_IMPORTING_MESSAGES=True

# ========================================
# Notes
# ========================================
# 1. Replace all 'CHANGE-THIS-*' values with actual secure credentials
# 2. Generate new SECRET_KEY using:
#    python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
# 3. For production, set ENABLE_SSL_REDIRECT=true and FORCE_HTTPS_COOKIES=true
# 4. Database host MUST be 'db' (Docker service name), not 'localhost'
# 5. Keep this file secure and never commit it to version control
# 6. Set Gitea token after Gitea container is running and configured
